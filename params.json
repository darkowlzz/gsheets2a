{"name":"Gsheets2a","tagline":"An android library to fetch Google Sheets data.","body":"# GSheets2A\r\n\r\nGSheets2A - An android library to fetch Google Sheets data.\r\n\r\n## Usage\r\n\r\nGSheets2A expects the spreadsheet data to be stored in objects, hence requires an object type to store the data.\r\nFor example, [this](https://docs.google.com/spreadsheets/d/1tJ64Y8hje0ui4ap9U33h3KWwpxT_-JuVMSZzxD2Er8k) spreadsheet contains data from English Premier League Finals. For this data a class `Team` could be created something like:\r\n\r\n```java\r\npublic class Team {\r\n    String name;\r\n    Integer totalWins;\r\n    ...\r\n}\r\n```\r\n\r\nFor this class to store spreadsheet data received from gsheets2a, it should implement `DataObject` interface defined in gsheets2a. This interface just one method which looks like:\r\n\r\n```java\r\npublic interface DataObject {\r\n    void saveData(ArrayList<String> data);\r\n}\r\n```\r\n\r\nHere is an example how class `Team` could implement `DataObject`:\r\n```java\r\npublic class Team implements GSheets2A.DataObject {\r\n\r\n    String name;\r\n    Integer totalWins;\r\n    ...\r\n\r\n    @Override\r\n    public void saveData(ArrayList<String> data) {\r\n        // As per the table https://docs.google.com/spreadsheets/d/1tJ64Y8hje0ui4ap9U33h3KWwpxT_-JuVMSZzxD2Er8k\r\n        name = data.get(1); // 2nd column \r\n        totalWins = Math.round(Float.parseFloat(data.get(3))); // 3rd column\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\nNow, to fetch the data create an instance of `GSheets2A` with key of the google sheet and application context.\r\n\r\n```java\r\nGSheets2A gSheets2A = new GSheets2A(\"1tJ64Y8hje0ui4ap9U33h3KWwpxT_-JuVMSZzxD2Er8k\", getApplicationContext());\r\n```\r\n\r\nThe key of a google sheet can be extracted from the public url of the sheet. Public url could be obtained from File > Share in Google Sheets.\r\n\r\nFetch the data using the above `gSheets2A` object like:\r\n\r\n```java\r\ngSheets2A.getData(Team.class, new GSheets2A.DataResult() {\r\n    @Override\r\n    public void onReceiveData(ArrayList data) {\r\n        ArrayList<Team> teams = data; // convert the ArrayList to Team list\r\n        String allNames = \"\";\r\n\r\n        // Iterate through the list and use the data\r\n        for (Team t : teams) {\r\n            allNames += t.name + \"\\t\\t\" + t.totalWins + \"\\n\";\r\n        }\r\n        text1.setText(allNames); // use the data\r\n    }\r\n});\r\n```\r\n\r\n`getData(Class, callback)` reads the `Class` and creates an ArrayList of objects of the given class type and passes it to the callback. The callback is executed after all the spreadsheet data is fetched and processed for use.\r\n\r\n## Gradle\r\n\r\nAdd to build.gradle depencencies\r\n\r\n```groovy\r\ndependencies {\r\n    compile 'space.darkowlzz:gsheets2a:0.1.0'\r\n}\r\n```\r\n\r\n## LICENSE\r\n\r\nMIT &copy; 2015 Sunny (darkowlzz)\r\n","google":"UA-63771901-4","note":"Don't delete this file! It's used internally to help with page regeneration."}